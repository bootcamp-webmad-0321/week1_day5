<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        class Person {

            constructor(nameValue, lastNameValue, ageValue) {
                this.name = nameValue
                this.lastName = lastNameValue
                this.age = ageValue
            }

            grow() {
                this.age++
            }

            presentYourself() {
                console.log(`Me llamo ${this.name} y tengo ${this.age} años`)
            }
        }

        const person1 = new Person('German', 'Alvarez', 33)
        const person2 = new Person('Charini', 'Rosales', 45)

        person1.grow()
        person1.presentYourself()






        console.log('---------------')






        class Player extends Person {

            constructor(nameValue, lastNameValue, ageValue, nickValue, livesValue, tokensValue, accountValue) {
                // El método super() contecta una clase hija con el constructor de su clase padre
                super(nameValue, lastNameValue, ageValue)

                this.nick = nickValue
                this.lives = livesValue
                this.tokens = tokensValue
                this.account = accountValue
                this.active = true
            }

            rechargeTokens(value) {
                this.tokens += value
            }

            buyLives(extraLives = 1) {

                const totalCost = extraLives * 100

                if (this.tokens >= totalCost) {
                    this.lives += extraLives
                    this.tokens -= totalCost
                    console.log(`¡Vidas recargadas! Tienes ${this.lives} vidas y ${this.tokens} tokens.`)
                } else {
                    console.log(`No dispones de saldo. Necesitas ${totalCost} y tienes ${this.tokens}`)
                }
            }

            looseLives(amount = 1) {
                this.lives -= amount
            }
        }


        const player1 = new Player('Raúl', 'Doe', 33, 'Shu Mò_ÓrenIkOh', 10, 1000, 'ES9278638763')

        player1.looseLives(5)
        player1.buyLives(95)
        player1.rechargeTokens(10000)
        player1.buyLives(95)

        console.log(`El jugador en realidad se llama ${player1.name} y tiene ${player1.age} años y ${player1.lives} vidas`)
        player1.grow()
        console.log(`El jugador en realidad se llama ${player1.name} y tiene ${player1.age} años y ${player1.lives} vidas`)







        console.log('---------------')







        class Witch extends Player {

            constructor(nameValue, lastNameValue, ageValue, nickValue, livesValue, tokensValue, accountValue, spellPowerValue) {

                super(nameValue, lastNameValue, ageValue, nickValue, livesValue, tokensValue, accountValue)
                this.spellPower = spellPowerValue
            }

            makeSpell() {
                console.log(`¡Oh, no! La bruja ${this.nick} (que en realidad se llama ${this.name}) te lanzó un hechizo de poder ${this.spellPower}`)
            }
        }


        const witch = new Witch('Charini', 'Sol', 33, 'Sabrina', 10, 1000, 'ES9347894', 95)

        witch.makeSpell()
        witch.buyLives(2)
        witch.presentYourself()






        console.log('---------------')






        class Gnome extends Player {

            constructor(nameValue, lastNameValue, ageValue, nickValue, livesValue, tokensValue, accountValue, spitPowerValue) {

                super(nameValue, lastNameValue, ageValue, nickValue, livesValue, tokensValue, accountValue)
                this.spitPower = spitPowerValue
            }

            spit() {
                console.log(`¡Oh, no! El gnomo ${this.nick} te esupió. Qué guarro...`)
            }
        }


        const gnome = new Gnome('Teo', 'Lopez', 33, 'David el Gnomo', 5, 300, 'ES9839783', 3)

        gnome.buyLives()
        gnome.spit()
        gnome.presentYourself()
        gnome.rechargeTokens(1000000)
        gnome.looseLives(50)
        gnome.buyLives(70)

        // gnome.makeSpell()            // error

    </script>
</body>

</html>